---
/**
 * PostHeader Component
 * Article header displaying title and description
 */
import { currentMarkdownStyle } from '../../data/markdown-style.config';

interface Props {
  title: string;
  description?: string;
}

const { title, description } = Astro.props;
const titleConfig = currentMarkdownStyle.postHeader;
---

<header class="post-header">
  <h1 
    class="post-title"
    style={`
      font-weight: ${titleConfig.fontWeight};
      color: ${titleConfig.color};
      margin-bottom: ${titleConfig.marginBottom};
      line-height: ${titleConfig.lineHeight};
    `}
  >
    {title}
  </h1>
  
  {description && (
    <p 
      class="post-description"
      style={`
        font-size: ${titleConfig.descriptionFontSize};
        color: ${titleConfig.descriptionColor};
        font-style: ${titleConfig.descriptionFontStyle};
        margin-bottom: ${titleConfig.descriptionMarginBottom};
        border-left: ${titleConfig.descriptionBorderWidth} solid ${titleConfig.descriptionBorderColor};
        padding-left: ${titleConfig.descriptionPaddingLeft};
        opacity: 0.8;
      `}
    >
      "{description}"
    </p>
  )}
</header>

<style>
  .post-title {
    font-size: var(--post-title-size-base);
  }
  
  @media (min-width: 768px) {
    .post-title {
      font-size: var(--post-title-size-md);
    }
  }
  
  @media (min-width: 1024px) {
    .post-title {
      font-size: var(--post-title-size-lg);
    }
  }
</style>

<script define:vars={{ titleConfig }}>
  document.documentElement.style.setProperty('--post-title-size-base', titleConfig.fontSize);
  document.documentElement.style.setProperty('--post-title-size-md', titleConfig.fontSizeMd);
  document.documentElement.style.setProperty('--post-title-size-lg', titleConfig.fontSizeLg);
</script>
