---
/**
 * ProjectHeader.astro
 * 项目页面头部组件 - 标题、描述、统计信息
 */
import { formatNumber } from '../../utils/github';
import { useI18n } from '../../utils/i18n';

interface Props {
  totalProjects: number;
  totalStars: number;
  totalForks: number;
}

const { totalProjects, totalStars, totalForks } = Astro.props;
const { t } = useI18n();
---

<header class="projects-header">
  <div class="header-content">
    <h1 class="page-title">
      <i class="i-carbon:cube"></i>
      <span data-i18n="projectsPage.title">{t('projectsPage.title')}</span>
    </h1>
    <p class="page-subtitle" data-i18n="projectsPage.subtitle">
      {t('projectsPage.subtitle')}
    </p>
  </div>
  
  <!-- 统计信息 -->
  <div class="projects-stats">
    <div class="stat-item">
      <i class="i-carbon:folder"></i>
      <span class="stat-value">{totalProjects}</span>
      <span class="stat-label" data-i18n="projects.stats.featured">{t('projects.stats.featured')}</span>
    </div>
    <div class="stat-item">
      <i class="i-carbon:star"></i>
      <span class="stat-value">{formatNumber(totalStars)}</span>
      <span class="stat-label" data-i18n="projects.stats.stars">{t('projects.stats.stars')}</span>
    </div>
    <div class="stat-item">
      <i class="i-carbon:branch"></i>
      <span class="stat-value">{formatNumber(totalForks)}</span>
      <span class="stat-label">Forks</span>
    </div>
  </div>
</header>

<script>
  import { initI18n } from '../../scripts/i18n-content-updater';
  initI18n();
</script>

<style>
  .projects-header {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--md-sys-color-outline-variant);
  }

  .header-content {
    text-align: center;
    margin-bottom: 1.25rem;
  }

  .page-title {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1.75rem;
    font-weight: 600;
    color: var(--md-sys-color-on-surface);
    margin: 0 0 0.5rem 0;
  }

  .page-title i {
    font-size: 1.5rem;
    color: var(--md-sys-color-primary);
  }

  .page-subtitle {
    font-size: 0.875rem;
    color: var(--md-sys-color-on-surface-variant);
    margin: 0;
    opacity: 0.9;
  }

  .projects-stats {
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .stat-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 999px;
  }

  /* 使用统一的卡片样式 */
  .stat-item {
    background: var(--md-sys-color-surface-container-low);
    border: 1.5px solid var(--md-sys-color-outline-variant);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  :root[data-theme="light"] .stat-item,
  :root:not([data-theme]) .stat-item {
    box-shadow: 
      0 1px 4px -1px rgba(0, 0, 0, 0.1),
      inset 0 0.5px 0 rgba(255, 255, 255, 0.3);
  }

  :root[data-theme="dark"] .stat-item {
    box-shadow: 
      0 1px 4px -1px rgba(0, 0, 0, 0.4),
      inset 0 0.5px 0 rgba(255, 255, 255, 0.05);
  }

  .stat-item:hover {
    background: var(--md-sys-color-primary-container);
    border-color: var(--md-sys-color-primary);
    transform: translateY(-1px) scale(1.02);
  }

  :root[data-theme="light"] .stat-item:hover,
  :root:not([data-theme]) .stat-item:hover {
    box-shadow: 
      0 4px 12px -2px rgba(0, 0, 0, 0.15),
      inset 0 0.5px 0 rgba(255, 255, 255, 0.5);
  }

  :root[data-theme="dark"] .stat-item:hover {
    box-shadow: 
      0 4px 12px -2px rgba(0, 0, 0, 0.6),
      inset 0 0.5px 0 rgba(255, 255, 255, 0.1);
  }

  .stat-item i {
    font-size: 1.125rem;
    color: var(--md-sys-color-primary);
  }

  .stat-value {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--md-sys-color-on-surface);
  }

  .stat-label {
    font-size: 0.8125rem;
    color: var(--md-sys-color-on-surface-variant);
  }

  @media (max-width: 768px) {
    .page-title {
      font-size: 1.5rem;
    }

    .page-title i {
      font-size: 1.25rem;
    }

    .page-subtitle {
      font-size: 0.8125rem;
    }

    .projects-stats {
      gap: 1rem;
    }

    .stat-item {
      padding: 0.375rem 0.875rem;
    }
  }
</style>
